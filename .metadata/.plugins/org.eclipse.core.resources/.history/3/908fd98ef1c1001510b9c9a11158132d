package com.example.puzzle;

import android.os.Bundle;
import android.util.Log;

import java.util.HashMap;
import java.util.Random;

import com.MyViewGroup.MyRelativeLayout;

import android.app.Activity;
import android.view.Menu;
import android.view.View;
import android.widget.ImageView;

public class MainActivity extends Activity
{

	private MyRelativeLayout mRelativeLayout;
	private HashMap<Integer, Integer> okHashmap;
	private HashMap<Integer, Integer> erroHashMap;
	@Override
	protected void onCreate(Bundle savedInstanceState)
	{
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		mRelativeLayout = (MyRelativeLayout) findViewById(R.id.main_viewgroup);
	}

	public void demo(View v)
	{
		final int count = mRelativeLayout.getChildCount();
		for (int i = 0; i < mRelativeLayout.getN(); i++)
		{
			okHashmap.put(i, i);
		}
		erroHashMap = new HashMap<Integer, Integer>();
		int[] num = randomNum();
		for (int i = 0; i < count; i++)
		{
			ImageView imageView = (ImageView) mRelativeLayout.getChildAt(i);
			imageView.setImageBitmap(mRelativeLayout.getBitmap().get(num[i]));
			erroHashMap.put(i, num[i]);
		}
	}
	
	public int[] randomNum()
	{
		Random random = new Random();
		int a[] = new int[mRelativeLayout.getN()*mRelativeLayout.getN()];
		for (int i = 0; i < a.length; i++) {
			//生成一个介于0到8的数字
			a[i] = random.nextInt(mRelativeLayout.getN()*mRelativeLayout.getN());
			for (int j = 1; j < i; j++) {
				while (a[i] == a[j]) {//如果重复，退回去重新生成随机数
					i--;
				}
			}
		}
		
		return a;
	}

}
