package com.MyViewGroup;

import java.util.ArrayList;
import java.util.List;

import com.example.puzzle.R;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.util.AttributeSet;
import android.util.Log;
import android.widget.ImageView;
import android.widget.ImageView.ScaleType;
import android.widget.RelativeLayout;

public class MyRelativeLayout extends RelativeLayout
{
	/*
	 * 对外扩展属性 由用户进行指定 
	 * 但是需要指定默认值 因为有可能用户并没有指定
	 */
	private int n = 2;
	private int maring = 7;
	private Bitmap bit = BitmapFactory.decodeResource(getResources(), R.drawable.a);
	private boolean isFist = true;//装填ImageView只需要一次
	
	public MyRelativeLayout(Context context, AttributeSet attrs, int defStyle)
	{
		super(context, attrs, defStyle);
	}

	public MyRelativeLayout(Context context, AttributeSet attrs)
	{
		super(context, attrs);
	}

	public MyRelativeLayout(Context context)
	{
		super(context);
	}
	
	/* (non-Javadoc)
	 * @see android.widget.RelativeLayout#onMeasure(int, int)
	 */
	@Override
	protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec)
	{
		super.onMeasure(widthMeasureSpec, heightMeasureSpec);
		/*
		 * 因为最终拼图父容器是正方形
		 * 但是用户有可能竖屏或者横屏
		 * 所以取两者最小值来做整体正方形的长度
		 */
		int value = Math.min(getMeasuredHeight(), getMeasuredWidth());
		setMeasuredDimension(value, value);//设置成正方形
	
		
	}
	
	private  List<Bitmap>  getBitmap()
	{
		List<Bitmap> bits = new ArrayList<Bitmap>();
		int width = bit.getWidth()/n;
		int height = bit.getHeight()/n;
		
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < n; j++)
			{
				Bitmap bit = Bitmap.createBitmap(this.bit, j*width, i*height, width, height);
				bits.add(bit);
			}
		}
		
		return bits;
	}

}
